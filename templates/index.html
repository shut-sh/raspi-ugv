<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <meta name="viewport" content="width=device-width, initial-scale=1">

  

    <title>Make - PiStream</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.4.17/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script>
      const so_emit = async (event_name) => {
        console.log("emitting", event_name)
        const response = await fetch("/" + event_name);
        console.log('response', response);
      }
      document.addEventListener("alpine:init", function(event){
        console.log("on alpine-init");
      });
    </script>
  </head>
  <body>

    <main class="p-5 pt-20 lg:p-40 bg-base-100 h-screen" x-data>
        <div class="flex flex-row gap-4">
          <div class="flex flex-col justify-center">
            <div class="flex flex-col gap-4">
              <div class="border-lg rounded-full bg-primary shadow-lg flex flex-col justify-center p-8 h-16" >
                <div class="flex flex-row gap-4">
                  <i class="fa fa-car font-bold text-xxl text-primary-content"></i>
                  <i class="fa fa-angle-up font-bold text-xxl text-primary-content"></i>
                </div>
              </div>
              <div class="border-lg rounded-full bg-primary shadow-lg flex flex-col justify-center p-8 h-16" 
                @mouseup="so_emit('left-keyup')" @mousedown="so_emit('left-keydown')" @touchstart.stop="so_emit('left-keydown')" @touchend.stop="so_emit('left-keyup')">
                <div class="flex flex-row gap-4">
                  <i class="fa fa-car font-bold text-xxl text-primary-content"></i>
                  <i class="fa fa-angle-left font-bold text-xxl text-primary-content"></i>
                </div>
              </div>
              <div class="mt-4 border-lg rounded-full bg-primary shadow-lg flex flex-col justify-center p-8 h-16" 
                @click="so_emit('camera-up')">
                <div class="flex flex-row gap-4">
                  <i class="fa fa-camera font-bold text-xxl text-primary-content"></i>
                  <i class="fa fa-angle-up font-bold text-xxl text-primary-content"></i>
                </div>
              </div>
              <div class="border-lg rounded-full bg-primary shadow-lg flex flex-col justify-center p-8 h-16" 
                @click="so_emit('camera-left')">
                <div class="flex flex-row gap-4">
                  <i class="fa fa-camera font-bold text-xxl text-primary-content"></i>
                  <i class="fa fa-angle-left font-bold text-xxl text-primary-content"></i>
                </div>
              </div>
            </div>
          </div>
          <div class="main" id="newpost">
            <!-- <img  class="camera-bg" style="width: 100%; height:80%; background-attachment: fixed;" id="bg" class="center" src="{{ url_for('video_feed') }}">       -->
            <img  class="center" style="background-attachment: fixed;" id="bg" src="https://upload.wikimedia.org/wikipedia/commons/b/b3/640x480.jpg">      
          </div>
          <div class="flex flex-col justify-center">
            <div class="flex flex-col gap-4">
              <div class="border-lg rounded-full bg-primary shadow-lg flex flex-col justify-center p-8 h-16" 
                @mouseup="so_emit('forward-keyup')" @mousedown="so_emit('forward-keydown')" @touchstart.stop="so_emit('forward-keydown')" @touchend.stop="so_emit('forward-keyup')">                
                <div class="flex flex-row gap-4">
                  <i class="fa fa-car font-bold text-xxl text-primary-content"></i>
                  <i class="fa fa-angle-up font-bold text-xxl text-primary-content"></i>
                </div>
              </div>
              <div class="border-lg rounded-full bg-primary shadow-lg flex flex-col justify-center p-8 h-16" 
                @mouseup="so_emit('right-keyup')" @mousedown="so_emit('right-keydown')" @touchstart.stop="so_emit('right-keydown')" @touchend.stop="so_emit('right-keyup')">
                <div class="flex flex-row gap-4">
                  <i class="fa fa-car font-bold text-xxl text-primary-content"></i>
                  <i class="fa fa-angle-right font-bold text-xxl text-primary-content"></i>
                </div>
              </div>
              <div class="mt-4 border-lg rounded-full bg-primary shadow-lg flex flex-col justify-center p-8 h-16" 
                @click="so_emit('camera-down')">
                <div class="flex flex-row gap-4">
                  <i class="fa fa-camera font-bold text-xxl text-primary-content"></i><i class="fa fa-angle-down font-bold text-xxl text-primary-content"></i>                  
                </div>
              </div>
              <div class="border-lg rounded-full bg-primary shadow-lg flex flex-col justify-center p-8 h-16" 
                @click="so_emit('camera-right')">
                <div class="flex flex-row gap-4">
                  <i class="fa fa-camera font-bold text-xxl text-primary-content"></i><i class="fa fa-angle-right font-bold text-xxl text-primary-content"></i>                  
                </div>
              </div>
            </div>
          </div>
        </div>
    </main>
  </body>
</html>
